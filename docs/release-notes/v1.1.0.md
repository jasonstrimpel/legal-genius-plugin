# v1.1.0 — PDF-to-Markdown Pipeline & Plugin Audit

**Date:** 2026-02-09

## Summary

Replaces the LibreOffice-based PDF-to-docx conversion with a new pdf-to-markdown pipeline. Adds a dedicated agent for structured PDF extraction with clause anchors, enabling cleaner docx generation and more reliable bookmark-based redlining. Includes fixes from a full plugin audit.

## New Agent

- **pdf-to-markdown** — Converts target contract PDFs to structured markdown with clause anchors on every numbered section, preserving all text content for downstream processing

## Changed

### Pipeline Architecture
- Target contracts now flow through PDF → markdown → docx instead of PDF → docx (via LibreOffice)
- **pdf-to-markdown** runs sequentially (Step 4a), then **target-to-docx** and **report-formatter** run in parallel (Steps 4b + 6)
- **target-to-docx** rewritten to consume structured markdown and generate docx with bookmarks using docx-js
- **redline-editor** now uses bookmark-based clause location as the primary strategy, with text search as fallback

### LibreOffice Removed
- LibreOffice is no longer a dependency
- All PDF reading uses Claude's native multimodal PDF support
- All docx creation uses docx-js (npm `docx`)

### Orchestrator
- Classification output now writes to a temp file before final directory creation, eliminating the fragile PENDING directory rename pattern

### Plugin Audit Fixes
- Added `color` field to all 7 agents for UI distinction during pipeline runs
- Added root-level MIT LICENSE file
- Updated README to reflect new pipeline (removed LibreOffice dep, added pdf-to-markdown agent, corrected architecture listing)
- Removed committed `__pycache__` files from skills directory

## Agent Colors

| Agent | Color |
|-------|-------|
| contract-classifier | blue |
| gap-analyzer | green |
| audit-reviewer | yellow |
| pdf-to-markdown | cyan |
| target-to-docx | cyan |
| report-formatter | magenta |
| redline-editor | red |

## Dependencies

- pandoc (benchmark text extraction)
- docx-js / npm `docx` (Word document creation)
- Python: lxml, defusedxml (XML validation)
